{"version":3,"sources":["app.js","controller/BaseController.js","controller/MainController.js","controller/SourceController.js"],"names":["BaseController","data","Map","key","val","set","source","Array","entries","element","document","querySelector","innerHTML","window","url","Promise","resolve","reject","req","XMLHttpRequest","open","onload","status","response","Error","statusText","onerror","send","MainController","Source","NextPageURL","scope","ajaxGet","then","JSON","parse","res","console","log","results","assign","render","jQuery","click","index","next","bind","prev","catch","error","run"],"mappings":"AAAA;;;;;;;;;ICCMA;AACJ,4BAAa;AAAA;;AACX,SAAKC,IAAL,GAAW,IAAIC,GAAJ,EAAX;AACD;;;;2BACMC,KAAKC,KACZ;AACE,WAAKH,IAAL,CAAUI,GAAV,CAAcF,GAAd,EAAmBC,GAAnB;AACD;;;2BAEME,QACP;AACE,UAAIL,OAAK,IAAIM,KAAJ,EAAT;AADF;AAAA;AAAA;;AAAA;AAEE,6BAAyB,KAAKN,IAAL,CAAUO,OAAV,EAAzB,8HACA;AAAA;;AAAA,cADWL,GACX;AAAA,cADgBC,GAChB;;AACEH,eAAKE,GAAL,IAAUC,GAAV;AACD;AALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAME,UAAIK,UAAUC,SAASC,aAAT,CAAuB,MAAvB,CAAd;AACAF,cAAQG,SAAR,GAAoBC,OAAO,OAAP,EAAgB,WAAhB,EAA6BP,MAA7B,EAAqCL,IAArC,CAApB;AACD;;;4BAEOa,KAAK;AACX,aAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACzC,YAAIC,MAAM,IAAIC,cAAJ,EAAV;AACAD,YAAIE,IAAJ,CAAS,KAAT,EAAgBN,GAAhB;AACAI,YAAIG,MAAJ,GAAa,YAAW;AACpB,cAAIH,IAAII,MAAJ,KAAe,GAAnB,EAAwB;AACpBN,oBAAQE,IAAIK,QAAZ;AACH,WAFD,MAEO;AACHN,mBAAO,IAAIO,KAAJ,CAAUN,IAAIO,UAAd,CAAP;AACH;AACJ,SAND;;AAQAP,YAAIQ,OAAJ,GAAc,YAAW;AACrBT,iBAAO,IAAIO,KAAJ,CAAU,eAAV,CAAP;AACH,SAFD;;AAIAN,YAAIS,IAAJ;AACH,OAhBM,CAAP;AAiBD;;;;;;;;;;;;;ICtCGC;;;;;;;;;;EAAuB5B;;;;;;;;;;;ICCvB6B;;;AAEF,oBAAa;AAAA;;AAAA;AAGZ;;;;4BACuB;AAAA,UAAlBC,WAAkB,yDAAN,KAAM;;AACtB,UAAIC,QAAQ,IAAZ;;AAEA,UAAG,CAACD,WAAJ,EACEA,cAAY,wDAAZ;;AAEF,WAAKE,OAAL,CAAaF,WAAb,EACCG,IADD,CACMC,KAAKC,KADX,EAECF,IAFD,CAEM,UAASG,GAAT,EAAa;AACjBC,gBAAQC,GAAR,CAAYF,IAAIG,OAAhB;;AAEA;AACAR,cAAMS,MAAN,CAAa,MAAb,EAAqBJ,IAAIG,OAAzB;AACA;AACAR,cAAMU,MAAN,CAAa,MAAb;AACA;AACAC,eAAO,OAAP,EAAgBC,KAAhB,CAAsB,YAAU;AAC5B;AACA,eAAKC,KAAL,CAAWR,IAAIS,IAAf;AACH,SAHqB,CAGpBC,IAHoB,CAGf,IAHe,CAAtB;;AAKAJ,eAAO,OAAP,EAAgBC,KAAhB,CAAsB,YAAU;AAC5B;AACA,eAAKC,KAAL,CAAWR,IAAIW,IAAf;AACH,SAHqB,CAGpBD,IAHoB,CAGf,IAHe,CAAtB;AAKD,OAlBK,CAkBJA,IAlBI,CAkBCf,KAlBD,CAFN,EAqBCiB,KArBD,CAqBO,UAASC,KAAT,EAAgB;AAAEZ,gBAAQC,GAAR,CAAYW,KAAZ;AAAqB,OArB9C;AAwBD;;;;EApCgBjD;;AAuCrB;;;AACA,IAAIkD,MAAM,IAAIrB,MAAJ,EAAV;AACAqB,IAAIN,KAAJ","file":"bundle.js","sourcesContent":["","\nclass BaseController{\n  constructor(){\n    this.data= new Map();\n  }\n  assign(key, val)\n  {\n    this.data.set(key, val)\n  }\n\n  render(source)\n  {\n    var data=new Array()\n    for (let [ key, val ] of this.data.entries())\n    {\n      data[key]=val;\n    }\n    var element = document.querySelector('#app');\n    element.innerHTML = window[\"rssly\"][\"templates\"][source](data);\n  }\n\n  ajaxGet(url) {\n    return new Promise(function(resolve, reject) {\n        let req = new XMLHttpRequest();\n        req.open(\"GET\", url);\n        req.onload = function() {\n            if (req.status === 200) {\n                resolve(req.response);\n            } else {\n                reject(new Error(req.statusText));\n            }\n        };\n\n        req.onerror = function() {\n            reject(new Error(\"Network error\"));\n        };\n\n        req.send();\n    });\n  }\n}\n","\nclass MainController extends BaseController\n{\n\n\n}\n","\n\nclass Source extends BaseController\n{\n    constructor(){\n      super();\n\n    }\n    index(NextPageURL=false){\n      var scope = this\n\n      if(!NextPageURL)\n        NextPageURL=\"http://rssly.codejungle.org/api/1/sources/?language=de\";\n\n      this.ajaxGet(NextPageURL)\n      .then(JSON.parse)\n      .then(function(res){\n        console.log(res.results);\n\n        //assign key / val to template\n        scope.assign(\"data\", res.results)\n        //render template\n        scope.render(\"item\")\n        //data binding example\n        jQuery(\"#next\").click(function(){\n            //run index again with different NextPageURL\n            this.index(res.next);\n        }.bind(this))\n\n        jQuery(\"#prev\").click(function(){\n            //run index again with different NextPageURL\n            this.index(res.prev);\n        }.bind(this))\n\n      }.bind(scope))\n      .catch(function(error) { console.log(error); });\n\n\n    }\n}\n\n//@todo routing (url / controller mapping)\nvar run = new Source();\nrun.index()\n"],"sourceRoot":"/source/"}